/*ð“Ÿð“².ð‘—ð‘  API*/
window.pijs={};var getter=(e,t,i)=>{Object.defineProperty(e,t,{get:i})},setter=(e,t,i)=>{Object.defineProperty(e,t,{set:i})};pijs.chat={},pijs.chat.send=(e=>{pijs.chat.buffer.push(e),pijs.chat.bufferCount<(MPP.client.isOwner()?10:4)&&function e(){0!==pijs.chat.buffer.length&&(pijs.chat.bufferCount++,MPP.client.sendArray([{m:"a",message:pijs.chat.buffer[0]}]),pijs.chat.buffer.shift(),setTimeout(()=>{pijs.chat.bufferCount--,e()},MPP.client.isOwner()?2500:6500))}()}),pijs.chat.bufferCount=0,pijs.chat.buffer=[],pijs.chat.clearBuffer=(()=>{pijs.chat.buffer=[]}),pijs.chat.local=((e,t)=>{var i=$("#chat").children(0).html(),a=t||"#FFFFFF";$("#chat").children().eq(0).html(`${i}<li style="color: ${a}; opacity: 1;"><span class="message">${e}</span></li>`)}),pijs.chat.setPlayerChatOutput=(e=>{MPP.chat.send=e}),pijs.chat.setOnMsg=(e=>{MPP.client.on("a",e);var t=MPP.client._events.a;return t[t.length-1]}),pijs.chat.clearOnMsg=(e=>{MPP.client._events.a.splice(e,1)}),pijs.chat.clearOnMsg=(e=>{MPP.client._events.a.splice(e,1)}),pijs.piano={},pijs.piano.pressKey=((e,t)=>{MPP.client.startNote(e,t),MPP.piano._play(e,t,MPP.client.getOwnParticipant(),0)}),MPP.press=pijs.piano.pressKey,pijs.piano.pressLocal=((e,t)=>{MPP.piano._play(e,t,MPP.client.getOwnParticipant(),0)}),pijs.piano.pianoOutput=pijs.piano.pianoOutput||function(e,t){pijs.piano.pressKey(e,t)},pijs.piano.setPlayerPianoOutput=(e=>{pijs.piano.pianoOutput=e}),getter(pijs.piano,"keys",()=>MPP.piano.keys),MPP.piano._play=MPP.piano._play||MPP.piano.play,MPP.piano._stop=MPP.piano._stop||MPP.piano.stop,MPP.piano.play=((e,t,i,a)=>{i==MPP.client.getOwnParticipant()?pijs.piano.pianoOutput(e,t):i!==MPP.client.getOwnParticipant()&&MPP.piano._play(e,t,i,a)}),MPP.piano.stop=((e,t,i)=>{MPP.piano._stop(e,t,i)}),getter(pijs,"player",()=>{var e=MPP.client.getOwnParticipant();return delete e.nameDiv,e.setName=(e=>{MPP.client.sendArray([{m:"userset",set:{name:e}}])}),e}),getter(pijs,"players",()=>{var e={};return Object.values(MPP.client.ppl).map(function(t){e[t._id]=t,delete e[t._id].nameDiv,delete e[t._id].cursorDiv}),e}),pijs.client={},pijs.client.sendArray=((e,t)=>{var i={m:e};Object.assign(i,t),MPP.client.sendArray([i])}),pijs.client.on=((e,t)=>{MPP.client.on(e,t)});
